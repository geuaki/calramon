<%- layout('layouts/main.ejs') %>
<div class="container p-4">
    <div class="card border-primary mb-3">
        <div class="row g-0">
            <div class="col-md-4">
                <img src="<%= product.image.path %>" class="card-img-top">
            </div>
            <div class="col-md-8">
                <div class="card-body">
                <h5 class="card-title"><%= product.name %></h5>
                <div>
                    <% if(product.isKilogram == true) { %>
                        <p class="card-text">Pes: <%= product.weight %>Kg</p>
                    <% } else { %>
                        <p class="card-text">Unitat: <%= product.unit %></p>
                    <% } %>
                    <p>Preu: <%= product.price %>€</p>
                    <% if(product.quantity <= 0) { %>
                        <p class="card-text">Ens hem quedat sense existències</p>
                    <% } else { %>
                        <p class="card-text">Quantitat: <%= product.quantity %> restants</p>
                    <% } %>
                    <% if(product.description.length > 0) { %>
                        <p class="card-text">Descripció: <%= product.description %></p>
                    <% } %>
                </div>
                <div class="row d-flex justify-content-around mt-3">
                    <% if(product.isKilogram == true) { %>
                        <% if(product.quantity > 0) { %>
                            <div class="input-group w-25">
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-danger btn-number"  data-type="minus" data-field="quant[2]">
                                    <span class="glyphicon glyphicon-minus"></span>
                                    </button>
                                </span>
                                <input type="text" name="quant[2]" class="form-control input-number" value="10" min="1" max="100">
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-success btn-number" data-type="plus" data-field="quant[2]">
                                        <span class="glyphicon glyphicon-plus"></span>
                                    </button>
                                </span>
                            </div>
                        <% } %>
                    <% } else { %>
                        <% if(product.quantity > 0) { %>
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <% if(product.quantity >= 1) { %>
                                    <label class="btn btn-secondary active">
                                        <input type="radio" name="options" id="option1" autocomplete="off" checked>1
                                    </label>
                                <% } %>
                                <% if(product.quantity >= 2) { %>
                                    <label class="btn btn-secondary">
                                        <input type="radio" name="options" id="option2" autocomplete="off"> 2
                                    </label>
                                <% } %>
                                <% if(product.quantity >= 3) { %>
                                    <label class="btn btn-secondary">
                                        <input type="radio" name="options" id="option3" autocomplete="off"> 3
                                    </label>
                                <% } %>
                                <% if(product.quantity >= 4) { %>
                                    <label class="btn btn-secondary">
                                        <input type="radio" name="options" id="option4" autocomplete="off"> 4
                                    </label>
                                <% } %>
                                <% if(product.quantity >= 5) { %>
                                    <label class="btn btn-secondary">
                                        <input type="radio" name="options" id="option5" autocomplete="off"> 5
                                    </label>
                                <% } %>
                            </div>
                        <% } %>
                    <% } %>
                    <% if(product.quantity <= 0) { %>
                        <div>
                            <button type="button" class="btn btn-primary" disabled>Esgotat</button>
                        </div>
                    <% } else { %>
                        <div>
                            <button type="button" class="btn btn-primary" >Afegir al cistell</button>
                        </div>
                    <% } %>
                </div>
                <div class="row d-flex justify-content-around mt-3">
                    <a href="/producte/<%= product._id %>/delete" class="btn btn-danger">Eliminar Producte</a>
                    <a href="/producte/<%= product._id %>/update" class="btn btn-warning">Modificar Producte</a>
                </div>
            </div>
          </div>
        </div>
      </div>
</div>